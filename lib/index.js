!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("htmlparser2")):"function"==typeof define&&define.amd?define(["htmlparser2"],t):"object"==typeof exports?exports.htom=t(require("htmlparser2")):n.htom=t(n.htmlparser2)}(this,function(n){return function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=4)}([function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.rightPad=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return n.length>t?n:""+n+Array(t-n.length+1).join(e)},t.trim=function(n){return n.replace(/\s+/g," ")}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.anchor=t.table=t.common=void 0;var r=e(0),o=t.common={data:[],append:function(n){o.data.unshift(n)},pop:function(){o.data.shift()},lastText:function(){return o.data[0]},reset:function(){o.data=[]},markdown:function(){var n=o.data.reverse().join("").trim();return o.reset(),n}},u=t.table={extra:[],data:[],append:function(n){u.data[0]&&u.data[0][0]?u.data[0][0].unshift(n):u.extra.unshift(n)},pop:function(){u.data[0]&&u.data[0][0]?u.data[0][0].shift():u.extra.shift()},lastText:function(){return u.data[0]&&u.data[0][0]},markdown:function(){var n="",t="",e=[],o=[];return u.data.map(function(n){return n.reverse()}).forEach(function(n){e.unshift([]),n.forEach(function(n,t){var r=n.reverse().join("");e[0].push(r),(void 0===o[t]||o[t]<r.length)&&(o[t]=r.length)})}),o.forEach(function(n){t+="| "+Array(n+1).join("-")+" "}),t+="|\n",e.forEach(function(e,u){e.forEach(function(t,e){n+="| "+(0,r.rightPad)(t,o[e])+" "}),n+="|\n",0===u&&(n+=t)}),u.extra.length&&(n=u.extra.reverse().join("")+"\n\n"+n),u.reset(),n},reset:function(){u.extra=[],u.data=[],u.isHasHead=!1}},i=t.anchor={data:[],href:"",append:function(n){i.data.unshift(n)},pop:function(){i.data.shift()},lastText:function(){return i.data[0]},reset:function(){i.data=[],i.href=[]},markdown:function(){var n="["+i.data.reverse().join("")+"]["+i.href+"]";return i.reset(),n}}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},o=e(0),u=e(1);function i(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var c=["h1","h2","h3","h4","h5","h6","p","div","blockquote","ul","ol","dl","pre","br","hr"],a=[],f=[],l="",d={},s=function(){switch(f[0]){case"anchor":return u.anchor;case"table":return u.table;default:return u.common}},p=function(){return s().lastText()},h=function(){return s().pop()},v=function(n){return s().append(n)},b=function(n){a.unshift(n)},x=function(n){a[0]===n&&a.shift()},m=function(n){"code"===a[0]&&"pre"!==a[1]?"\n"!==n&&v(n):"pre"===a[0]||"code"===a[0]&&"pre"===a[1]?v(n):"\n"!==n&&""!==n.trim()&&v((0,o.trim)(n))},g=function(){var n=p();"\n"!==n&&"\n\n"!==n&&v("\n")},j=function(){var n=p();"\n"!==n&&"\n\n"!==n?v("\n\n"):"\n"===n&&(h(),v("\n\n"))},y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){var e=p();x(t),"\n"===n||"\n\n"===n?"\n"===e?(h(),v("\n\n")):"\n\n"!==e&&v(n):v(n)}},O=function(n,t){var e;return i(e={},n+"open",function(n){return function(t){b(t),j(),v(Array(n+1).join("#")+" ")}}(t)),i(e,n+"text",m),i(e,n+"close",y("\n\n")),e},k=function(n,t){var e;return i(e={},n+"open",function(n){b(n),v(t)}),i(e,n+"text",m),i(e,n+"close",y(t)),e},_=r({},["p","div"].reduce(function(n,t){return r({},n,function(n){var t;return i(t={},n+"open",function(n){b(n),j(),"blockquote"===a[1]&&v("> ")}),i(t,n+"text",m),i(t,n+"close",y("\n\n")),t}(t))},{}),[1,2,3,4,5,6].reduce(function(n,t){return r({},n,O("h"+t,t))},{}),k("em","*"),k("del","~~"),k("strong","**"),k("caption","**"),{preopen:function(n){b(n),j(),v("```"),g()},pretext:m,preclose:function(n){x(n),g(),v("```"),j()}},{codeopen:function(n){a[0]&&"pre"===a[0]||v("`"),b(n)},codetext:m,codeclose:function(n){x(n),a[0]&&"pre"===a[0]||v("`")}},{blockquoteopen:function(n){b(n),j()},blockquotetext:m,blockquoteclose:y("\n\n")},["ol","ul"].reduce(function(n,t){return r({},n,function(n){var t;return i(t={},n+"open",function(n){"li"!==a[0]?j():(g(),"ul"===a[1]?l+="  ":"ol"===a[1]&&(l+="   ")),b(n)}),i(t,n+"text",function(){}),i(t,n+"close",function(n){x(n),"li"!==a[0]?j():"ul"===a[1]?l=l.slice(0,-2):"ol"===a[1]&&(l=l.slice(0,-3))}),t}(t))},{}),{liopen:function(n){"ul"===a[0]?v(l+"- "):"ol"===a[0]&&v(l+"1. "),b(n)},litext:m,liclose:function(n){x(n),"\n"!==p()&&v("\n")}},{dlopen:function(n){b(n),g()},dlclose:y("\n\n"),dtopen:function(n){b(n),v(l+"- ")},dttext:m,dtclose:y("\n"),ddopen:function(n){b(n),v(l+"  - ")},ddtext:m,ddclose:y("\n")},r({tableopen:function(n){j(),b(n),f.unshift("table")},tableclose:function(n){f.shift(),x(n),v(u.table.markdown()),j()},tropen:function(){u.table.data.unshift([])}},["th","td"].reduce(function(n,t){var e;return r({},n,(i(e={},t+"open",function(n){u.table.data[0].unshift([]),b(n)}),i(e,t+"text",m),i(e,t+"close",function(n){x(n)}),e))},{})),{aopen:function(n,t){b(n);var e=t.href;d[e]||(d[e]=Object.keys(d).length+1),u.anchor.href=d[e],f.unshift("anchor")},atext:m,aclose:function(n){f.shift(),x(n),v(u.anchor.markdown())}},{inputopen:function(n,t){a[0]&&"li"===a[0]&&v("["+(void 0!==t.checked?"x":" ")+"] ")},hropen:function(){j(),v("----------------"),j()},bropen:j,imgopen:function(n,t){var e=t.alt,r=t.src;v("!["+(e||"image")+"]("+r+")")}});t.default=function(n,t){return{onopentag:function(n,t){var e=n+"open";if(_[e]){if(("anchor"===f[0]||"table"===f[0])&&-1!==c.indexOf(n))return;_[e](n,t)}},onclosetag:function(n){var t=n+"close";if(_[t]){if(("anchor"===f[0]||"table"===f[0])&&-1!==c.indexOf(n))return;_[t](n)}},ontext:function(n){var t=a[0]+"text";_[t]&&_[t](n)},onerror:function(n){return t(n)},onend:function(){var t=""+s().markdown()+Object.keys(d).reduce(function(n,t){return n+"\n["+d[t]+"]: "+t},"\n");return a=[],f=[],l="",d={},u.common.reset(),u.table.reset(),u.anchor.reset(),n(t)}}}},function(t,e){t.exports=n},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(e(3)),o=u(e(2));function u(n){return n&&n.__esModule?n:{default:n}}t.default=function(n){return new Promise(function(t,e){var u=new r.default.Parser((0,o.default)(t,e),{decodeEntities:!0,xmlMode:!0});u.write(n),u.end()})}}])});